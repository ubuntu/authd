> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username:
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Provider selection ==
  1. local
  2. ExampleBroker
Or enter 'r' to go back to user selection
Choose your provider:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Provider selection ==
  1. local
  2. ExampleBroker
Or enter 'r' to go back to user selection
Choose your provider:
> 2
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Provider selection ==
  1. local
  2. ExampleBroker
Or enter 'r' to go back to user selection
Choose your provider:
> 2
== Password authentication ==
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Provider selection ==
  1. local
  2. ExampleBroker
Or enter 'r' to go back to user selection
Choose your provider:
> 2
== Password authentication ==
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Provider selection ==
  1. local
  2. ExampleBroker
Or enter 'r' to go back to user selection
Choose your provider:
> 2
== Password authentication ==
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Provider selection ==
  1. local
  2. ExampleBroker
Or enter 'r' to go back to user selection
Choose your provider:
> 2
== Password authentication ==
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
PAM Error Message: new password does not match criteria: must be 'authd2404'
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Provider selection ==
  1. local
  2. ExampleBroker
Or enter 'r' to go back to user selection
Choose your provider:
> 2
== Password authentication ==
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
PAM Error Message: new password does not match criteria: must be 'authd2404'
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Provider selection ==
  1. local
  2. ExampleBroker
Or enter 'r' to go back to user selection
Choose your provider:
> 2
== Password authentication ==
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
PAM Error Message: new password does not match criteria: must be 'authd2404'
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
PAM ChangeAuthTok()
  User: "user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker"
  Result: success
PAM AcctMgmt()
  User: "user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker"
  Result: success
>
────────────────────────────────────────────────────────────────────────────────
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username:
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Password authentication ==
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Password authentication ==
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Password authentication ==
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Password authentication ==
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
PAM Error Message: new password does not match criteria: must be 'goodpass'
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Password authentication ==
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
PAM Error Message: new password does not match criteria: must be 'goodpass'
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Password authentication ==
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
PAM Error Message: new password does not match criteria: must be 'goodpass'
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
PAM Error Message: Password entries don't match
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Password authentication ==
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
PAM Error Message: new password does not match criteria: must be 'goodpass'
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
PAM Error Message: Password entries don't match
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd passwd socket=${AUTHD_TEST_AUTHTOK_SOCK} force_native_client=true
Username: user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker
== Password authentication ==
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
PAM Error Message: new password does not match criteria: must be 'goodpass'
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
PAM Error Message: Password entries don't match
== Password reset ==
Enter 'r' to cancel the request and go back to choose the provider
Enter your new password:
>
Confirm Password:
>
PAM ChangeAuthTok()
  User: "user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker"
  Result: success
PAM AcctMgmt()
  User: "user-integration-native-passwd-retry-if-new-password-is-rejected-by-broker"
  Result: success
>
────────────────────────────────────────────────────────────────────────────────
